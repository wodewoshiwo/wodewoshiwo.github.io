<!DOCTYPE html> <html lang=zh-CN><meta charset=utf-8>
<meta name=Content-Type content="text/html;charset=utf-8">
<meta name=Referrer content=unsafe-url>
<meta content=True name=HandheldFriendly>
<meta name=theme-color content=#ffffff>
<meta name=apple-mobile-web-app-capable content=yes>
<meta name=mobile-web-app-capable content=yes>
<title>今天 GEMINI 网页版本长度 6 万左右就报限制.有没同款的? - V2EX</title>
<style>:root{--sf-img-9: url("assets/bg_texture.png")}</style><style>body{min-width:820px;font-family:"Helvetica Neue","Luxi Sans","Segoe UI","Hiragino Sans GB","Microsoft Yahei",sans-serif,"Apple Logo"}</style>
<style>[contenteditable="true"]:focus{background-color:#fffdf5;outline:1px solid #ffecad}</style><style>.subtle{background-color:#fffff9;border-left:3px solid #fffbc1;padding:10px;font-size:14px;line-height:1.6;text-align:left;border-bottom:1px solid #e2e2e2;position:relative}.subtle:last-child{border-bottom:none}.subtle .fade{color:#ccc;font-size:14px}.subtle .postscript-actions{visibility:hidden;position:absolute;top:10px;right:10px}.subtle:hover .postscript-actions{visibility:visible}.subtle .postscript-actions a{color:#999;text-decoration:none;font-size:12px;padding:2px 6px;border-radius:3px}.subtle .postscript-actions a:hover{background-color:#f0f0f0;color:#333}.topic_content .markdown_body p{text-indent:2em;text-align:justify;text-justify:inter-ideograph;hanging-punctuation:allow-end}.topic_content .markdown_body p:first-child{text-indent:0}.topic_content .markdown_body p:has(img),.topic_content .markdown_body p:has(a[href]){text-indent:0}.reply_content p,.reply_content{text-align:justify;text-justify:inter-ideograph}.subtle .topic_content{text-align:justify;text-justify:inter-ideograph}.cell strong a{font-size:14px}.cell strong a.cn-username{font-size:13px}</style><style media=screen>.image-grid a.image-grid-item:hover{background-color:#f0f0f0}.image-view:hover{background-color:#f0f0f0}.token-delete a:link,.token-delete a:visited,.token-download a:link,.token-download a:visited{color:#fff;text-decoration:none;font-size:16px;line-height:1}.token-delete:hover,.token-download:hover{background-color:rgba(0,0,0,.1)}.radio-group>input[type=radio]:checked+label{background-color:var(--radio-group-active-background-color);color:var(--radio-group-active-foreground-color);box-shadow:0 1px 2px rgba(0,0,0,.1)}.note_item:hover{background-color:#f9f9f9}.badges{display:inline-flex;cursor:default}.xna-delete-button:hover,.xna-fetch-button:hover,.xna-gear-button:hover{border-color:#000;filter:var(--icon-hover-filter)}.planet-post:hover{background-color:var(--box-background-hover-color)}.planet-comment-content li:has(input[type=checkbox]:not(:checked):disabled)::before,.planet-post-content li:has(input[type=checkbox]:not(:checked):disabled)::before{background-image:url(assets/bg_1.svg);background-repeat:no-repeat;content:"";display:inline-block;vertical-align:text-top;width:1.25em;height:1em;background-size:1em 1em;margin-top:2px;filter:var(--icon-hover-filter);pointer-events:all}.planet-comment-content li:has(input[type=checkbox]:checked:disabled)::before,.planet-post-content li:has(input[type=checkbox]:checked:disabled)::before{background-image:url(assets/bg_2.svg);background-repeat:no-repeat;content:"";display:inline-block;vertical-align:text-top;width:1.25em;height:1em;background-size:1em 1em;margin-top:1px;filter:var(--icon-hover-filter);pointer-events:all}.planet-comment:hover{background-color:var(--box-background-hover-color)}.planet-comment:hover .planet-comment-action{visibility:visible}a.planet-comment-action:link,a.planet-comment-action:visited{text-decoration:none;padding:5px 10px;border-radius:20px;font-weight:500;font-size:14px}a.planet-comment-action:hover{text-decoration:none;background-color:var(--link-color);color:var(--button-background-color);transition:background-color .15s ease-in-out;box-shadow:var(--small-shadows)}.campaign-description-input:focus{background-color:var(--box-background-color)}.pro-unit-go:link,.pro-unit-go:visited{background-color:var(--box-background-alt-color);color:var(--color-gray);font-family:"Lucida Grande";font-size:24px;font-weight:500;border-radius:24px;width:24px;height:24px;display:inline-block;text-decoration:none;text-align:center;line-height:80%}.pro-unit-go:hover{background-color:var(--link-color);color:var(--box-background-alt-color)}.pro-unit-cta:link,.pro-unit-cta:visited{padding:5px 12px;font-size:14px;font-weight:500;line-height:1.2;border:1px solid var(--box-border-color);border-radius:4px;background-color:var(--box-background-color);box-shadow:0 1px 2px rgba(0,0,0,.1);display:inline-block;margin-bottom:10px;transition:background-color .25s ease,border-color .25s ease}.pro-unit-cta:hover{background-color:var(--box-background-alt-color);border-color:var(--link-color);text-decoration:none}.pro-unit-from a:hover{text-decoration:none}.pro-unit-img:hover{box-shadow:0 1px 2px rgba(0,0,0,.1)}.tip-modal-tab:hover:not(.selected){background-color:var(--box-background-color);opacity:.8}#tip-to>a:link,#tip-to>a:visited{color:var(--highlight-color);text-decoration:none}#tip-to>a:hover{text-decoration:underline}#tip-amount:focus,#tip-memo:focus{outline:0;border-color:var(--link-color)}.markdown_body li:has(input[type=checkbox]:not(:checked):disabled)::before{background-image:url(assets/bg_3.svg);background-repeat:no-repeat;content:"";display:inline-block;vertical-align:text-top;width:1.25em;height:1em;background-size:1em 1em;margin-top:2px;filter:var(--icon-filter);pointer-events:all}.markdown_body li:has(input[type=checkbox]:checked:disabled)::before{background-image:url(assets/bg_4.svg);background-repeat:no-repeat;content:"";display:inline-block;vertical-align:text-top;width:1.25em;height:1em;background-size:1em 1em;margin-top:1px;filter:var(--icon-green-filter);pointer-events:all}@font-face{font-family:"Apple Logo";src:url(fonts/apple_logo.ttf)format("TrueType")}:root{--code-font:"Consolas","Panic Sans","Bitstream Vera Sans Mono","Menlo","Microsoft Yahei",monospace;--box-background-color:#fff;--box-background-translucent-color:rgba(255,255,255,0.75);--box-background-alt-color:#f9f9f9;--box-background-hover-color:#fafafa;--box-glass-color:rgba(255,255,255,0.5);--box-thick-glass-color:rgba(255,255,255,0.8);--box-foreground-color:#000;--box-border-color:#e2e2e2;--box-border-hover-color:#c0c0c0;--box-border-focus-color:#a6a6b0;--box-border-radius:3px;--box-padding:10px;--box-font-size:14px;--box-line-height:120%;--radio-group-active-background-color:var(--box-background-color);--radio-group-active-foreground-color:var(--box-foreground-color);--button-background-color:#f0f0f0;--button-background-hover-color:#f5f5f5;--button-background-active-color:#e0e0e0;--button-foreground-color:#666;--button-foreground-hover-color:#333;--button-border-color:#ddd;--button-border-hover-color:#c0c0c0;--menu-shadow-color:rgba(0,0,0,0.2);--ads-list-foreground-color:#445;--component-margin:20px;--backdrop-blur-radius:10px;--scroll-indicator-color:rgba(0,0,0,0.2);--link-color:#778087;--link-visited-color:#afb9c1;--link-hover-color:#4d5256;--color-foreground:#000;--color-graphite:#333;--color-gray:#999;--color-fade:#ccc;--icon-filter:brightness(0) saturate(100%) invert(66%) sepia(6%) saturate(5%) hue-rotate(9deg) brightness(90%) contrast(95%);--icon-hover-filter:brightness(0) saturate(100%) invert(0%) sepia(1%) saturate(0%) hue-rotate(153deg) brightness(92%) contrast(102%);--icon-green-filter:brightness(0) saturate(100%) invert(64%) sepia(79%) saturate(379%) hue-rotate(59deg) brightness(93%) contrast(88%);--shadows:0 1px 2px rgba(0,0,0,0.02),0 2px 4px rgba(0,0,0,0.02),0 4px 8px rgba(0,0,0,0.02),0 8px 16px rgba(0,0,0,0.02);--small-shadows:0 1px 1px rgba(0,0,0,0.02),0 2px 3px rgba(0,0,0,0.02),0 3px 5px rgba(0,0,0,0.02),0 5px 8px rgba(0,0,0,0.02);--color-pro-badge:#323a45;--color-pro-badge-text:#fff}body,html{padding:0;margin:0}h1{font-size:24px;font-weight:500;line-height:150%;margin:0 0 10px 0;padding:0}a:active,a:link,a:visited{color:var(--link-color);text-decoration:none;word-break:break-word}a:hover{color:var(--link-hover-color);text-decoration:underline}a.topic-link:active,a.topic-link:link{color:var(--link-color);text-decoration:none;word-break:break-word}a.topic-link:visited{color:var(--link-visited-color);text-decoration:none;word-break:break-word}a.topic-link:hover{color:var(--link-hover-color);text-decoration:underline}a.google-signin:link{width:191px;height:46px;background-image:var(--sf-img-5);background-size:191px 46px;background-repeat:no-repeat;border:none;text-decoration:none;display:inline-block}a.google-signin:hover{background-image:var(--sf-img-5)}a.google-signin:active{background-image:url(assets/bg_5.png)}a.dark:active,a.dark:link,a.dark:visited{color:gray;text-decoration:none}a.dark:hover{color:#385f8a;text-decoration:none}a.gray:active,a.gray:link,a.gray:visited{color:var(--color-fade);text-decoration:none}a.gray:hover{color:var(--color-gray);text-decoration:none}a.top:link,a.top:visited{color:#556;text-decoration:none}a.top:hover{color:#99a;text-decoration:none}a.top:active{color:#001;text-decoration:none}a.tab:active,a.tab:link,a.tab:visited{display:inline-block;font-size:14px;line-height:14px;padding:5px 8px 5px 8px;margin-right:5px;border-radius:var(--box-border-radius);color:#555;-webkit-tap-highlight-color:transparent}a.tab:hover{background-color:#f5f5f5;color:#000;text-decoration:none}a.tab_current:active,a.tab_current:link,a.tab_current:visited{display:inline-block;font-size:14px;line-height:14px;padding:5px 8px 5px 8px;margin-right:5px;border-radius:3px;background-color:#334;color:#fff}a.tab_current:hover{background-color:#445;color:#fff;text-decoration:none}a.node:active,a.node:link,a.node:visited{background-color:#f5f5f5;font-size:12px;line-height:12px;display:inline-block;padding:4px 4px 4px 4px;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;text-decoration:none;color:var(--color-gray)}a.node:hover{text-decoration:none;background-color:#e2e2e2;color:#777}a.node-xl:active,a.node-xl:link,a.node-xl:visited{background-color:var(--box-background-alt-color);border:1px solid var(--box-border-color);font-size:16px;line-height:1.2;display:inline-block;padding:4px 10px 4px 10px;border-radius:16px;text-decoration:none;color:var(--color-gray)}a.node-xl:hover{text-decoration:none;background-color:var(--box-background-hover-color);border:1px solid var(--color-gray);box-shadow:0 0 0 2px rgba(0,0,200,.05)}a.op:active,a.op:link,a.op:visited{background-color:var(--button-background-color);font-size:12px;line-height:12px;display:inline-block;padding:4px 4px 3px 4px;border-radius:3px;text-decoration:none;border:1px solid var(--button-border-color);color:var(--button-foreground-color);vertical-align:baseline}a.op:hover,button.op:hover{text-decoration:none;background-color:var(--button-background-hover-color);border:1px solid var(--button-border-hover-color);color:var(--button-foreground-hover-color)}a.opo:active,a.opo:link,a.opo:visited{background-color:#d0d0df;font-size:12px;line-height:12px;display:inline-block;padding:3px 4px 3px 4px;border-radius:3px;text-decoration:none;color:#333}a.opo-100:active,a.opo-100:link,a.opo-100:visited{background-color:#323a45;font-size:12px;line-height:12px;display:inline-block;padding:3px 4px 3px 4px;border-radius:3px;text-decoration:none;color:#eee}a.opo-1000:active,a.opo-1000:link,a.opo-1000:visited{background-color:#3f6184;font-size:12px;line-height:12px;display:inline-block;padding:3px 4px 3px 4px;border-radius:3px;text-decoration:none;color:#ddd}a.opo-50000:active,a.opo-50000:link,a.opo-50000:visited{background-color:#789;font-size:12px;line-height:12px;display:inline-block;padding:3px 4px 3px 4px;border-radius:3px;text-decoration:none;color:#ccc}a.opo-100000:active,a.opo-100000:link,a.opo-100000:visited{background-color:#f6f7f9;font-size:12px;line-height:12px;display:inline-block;padding:3px 4px 3px 4px;border-radius:3px;text-decoration:none;color:#333}a.tb:active,a.tb:link,a.tb:visited{font-size:12px;line-height:12px;color:#333;text-decoration:none;display:inline-block;padding:3px 10px 3px 10px;border-radius:15px;text-shadow:0 1px 0#fff}a.tb:hover{background-color:rgba(255,255,255,.3);color:#000;text-decoration:none;border-radius:15px}a.black:active,a.black:link,a.black:visited{color:#000;text-decoration:none}a.black:hover{color:#000;text-decoration:underline;text-shadow:0 1px 1px rgba(255,255,255,.2)}a.black_alt:link,a.black_alt:visited{color:#000;text-decoration:none}a.black_alt:hover{color:#5a5a5a;text-decoration:none}a.black_alt:active{color:#000;text-decoration:none}#Logo{height:30px;background-image:url(assets/bg_6.png);background-size:94px 30px;background-repeat:no-repeat;display:inline-block}#Top{text-align:center;background-color:var(--box-background-color);height:44px;font-size:15px;font-weight:500;background-size:44px 44px;border-bottom:1px solid rgba(0,0,0,.22);padding:0 20px 0 20px}.site-nav{padding-top:6px;width:100%;display:flex;align-items:center}.site-nav #Logo{width:100px}.site-nav .tools{flex:1 1 200px;text-align:right}.site-nav .tools *{margin-left:8px}#search-container{width:246px;height:24px;padding-left:30px;background-color:var(--box-background-hover-color);transition:all .15s;border:1px var(--box-background-hover-color) solid;border-radius:15px;position:relative;margin:0 0 2px 10px}#search-container::before{content:"";position:absolute;left:0;top:1px;width:26px;height:100%;transition:filter .15s;background-image:url(assets/bg_7.png);background-color:transparent;background-size:17px 17px;background-position:center;background-repeat:no-repeat;filter:opacity(40%)}#search-container.active::before{filter:opacity(100%)}#search-container #search{box-sizing:border-box;width:100%;height:100%;font-size:16px;line-height:16px;padding:1px;font-family:"Helvetica Neue","Luxi Sans",Tahoma,"Hiragino Sans GB",STHeiti,sans-serif;background-color:transparent;border:none}#search-container #search:focus{outline:0}#search-container #search-result{display:none;position:absolute;background-color:var(--box-background-color);top:36px;left:0;width:100%;z-index:10}#site-header #site-header-menu #menu-body a:active{background-color:var(--box-background-alt-color)}.menu-item>:first-child:hover{background-color:var(--box-border-color);cursor:pointer}.menu-item>:first-child~input:checked~.dropdown{background-color:var(--box-background-color);border-radius:3px;box-shadow:0 0 3px rgba(0,0,0,.1);position:absolute;display:flex;flex-direction:column;width:100%;top:30px;padding:5px 10px 5px 10px;border:solid 1px var(--box-border-color);list-style:none;line-height:28px;font-size:14px;box-sizing:border-box;margin:10px 0 0 0}.flex-one-row{display:flex;justify-content:space-between;align-items:center}.gap10{gap:10px}.spacer{flex:1}.flex-row-end{display:flex;justify-content:flex-end;align-items:center}.tab-alt:hover{text-decoration:none;border-color:#f0f0f0;color:var(--link-hover-color)}#Wrapper{padding:0 env(safe-area-inset-right)0 env(safe-area-inset-left);text-align:center;background-color:#e2e2e2;background-image:var(--sf-img-9);background-repeat:repeat-x}#Bottom{border-top:1px solid rgba(0,0,0,.22);background-color:var(--box-background-color);text-align:center;color:var(--color-gray);padding-top:0;padding-right:calc(var(--box-padding) + env(safe-area-inset-right));padding-bottom:env(safe-area-inset-bottom);padding-left:calc(var(--box-padding) + env(safe-area-inset-left))}#DigitalOcean{background-image:url(assets/bg_8.png);width:163.92px;height:28px;background-size:163.92px 28px;background-repeat:no-repeat}#Leftbar{width:0;float:left}#Rightbar{width:270px;float:right;margin-right:20px}#Main{width:auto;margin:0 310px 0 20px}.page-outline-item:link,.page-outline-item:visited{padding:5px 5px 5px 10px;color:var(--box-foreground-color);cursor:pointer;font-size:14px;display:block;text-decoration:none}.page-outline-item:hover{background-color:#f0f0f0;text-decoration:none}.gray{color:var(--color-gray)}.fade{color:var(--color-fade)}.snow{color:#e2e2e2}.bigger{font-size:16px}.small{font-size:12px}.content{min-width:600px;max-width:1100px;margin:0 auto 0 auto}#Top>.content{max-width:1060px}.box{background-color:var(--box-background-color);border-radius:var(--box-border-radius);box-shadow:0 2px 3px rgba(0,0,0,.1);border-bottom:1px solid var(--box-border-color)}.inner{padding:10px;font-size:14px;line-height:150%;text-align:left}.header{padding:10px;font-size:15px;line-height:120%;text-align:left;border-bottom:1px solid var(--box-border-color);overflow:auto}.header h1{line-break:anywhere}.cell{padding:10px;font-size:14px;line-height:150%;text-align:left;border-bottom:1px solid var(--box-border-color)}.cell:last-child{border-bottom:none;border-bottom-left-radius:var(--box-border-radius);border-bottom-right-radius:var(--box-border-radius)}.cell:first-child{border-top:none;border-top-left-radius:var(--box-border-radius);border-top-right-radius:var(--box-border-radius)}.node-breadcrumb a:hover{text-decoration:underline}.cell_tab:link,.cell_tab:visited{font-size:14px;line-height:30px;border-bottom:3px solid transparent;display:inline-block;text-decoration:none;margin-right:15px;padding:0 5px 5px 5px;color:#99a}.cell_tab:hover{color:#778087;border-bottom:3px solid #f0f0f0}.cell_tab_current:link,.cell_tab_current:visited{font-size:14px;line-height:30px;border-bottom:3px solid #778087;display:inline-block;text-decoration:none;margin-right:15px;padding:0 5px 5px 5px}.cell[id^=r_]>table{table-layout:fixed}div.node:hover{background-color:var(--box-background-alt-color);box-shadow:0 1px 2px rgba(0,0,0,.1) inset}div.node:hover .node_compose{float:right;visibility:visible}a.thank{display:inline-block;line-height:12px;border-radius:5px}a.thank:hover{background-color:#f5f5f5;text-decoration:none}.grid_item:hover{background-color:#f0f0f0;box-shadow:0 5px 20px rgba(0,0,0,.08) inset;cursor:pointer;text-decoration:none}.thank_area{display:inline-block;line-height:100%;vertical-align:middle}.thank_area>a{visibility:hidden}.thank_area:hover>a{visibility:visible}.social_label:link,.social_label:visited{background-color:#f9f9f9;padding:5px 15px 5px 6px;font-size:14px;line-height:100%;text-decoration:none;display:inline-block;border-radius:20px;outline:0;margin:5px}.social_label:hover{background-color:#e9e9e9;outline:0}.social_label:active{box-shadow:0 2px 5px rgba(0,0,0,.2) inset;outline:0}.sep{height:var(--component-margin)}.sep20{height:20px}#Rightbar>.sep20:last-child{display:none}.sep10{height:10px}.sep5{height:5px}.sep3{height:3px}.c{clear:both}.chevron{font-family:"Lucida Grande";font-weight:500}.fr{float:right;text-align:right}.f11{font-size:11px}.ago{font-size:11px;color:var(--color-fade);cursor:pointer}.no{font-size:9px;line-height:9px;font-weight:500;border-radius:10px;display:inline-block;background-color:#f0f0f0;color:#ccc;padding:2px 5px 2px 5px;cursor:pointer}.reply_content{font-size:14px;line-height:1.6;color:var(--box-foreground-color);word-break:break-word}.topic_content{font-size:14px;line-height:1.6;color:var(--box-foreground-color);word-break:break-word}.topic_stats{text-shadow:0 1px 0#fff;font-size:11px;color:var(--color-gray);line-height:100%}.topic_content>:first-child{margin-top:0!important}.topic_content>:last-child{margin-bottom:0!important}.topic_buttons{padding:5px;font-size:14px;line-height:120%;background:linear-gradient(#eee 0,#ccc 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="#eeeeee", endColorstr="#cccccc", GradientType=0 );border-radius:0 0 3px 3px;text-align:left}#topic_thank{display:inline-block}.onoffswitch label .frame:after,.onoffswitch label .frame:before{box-sizing:border-box;float:left;width:50%;height:30px;padding:0;line-height:30px;font-size:14px;color:#fff;font-family:Trebuchet,Arial,sans-serif;font-weight:700}.onoffswitch label .frame:before{content:"ON";padding-left:16px;background-color:#68c944;color:#fff}.onoffswitch label .frame:after{content:"OFF";padding-right:16px;background-color:#e0e0e0;color:#999;text-align:right}.onoffswitch input[type=checkbox]:checked+label .frame{margin-left:0}.onoffswitch input[type=checkbox]:checked+label .switch{left:calc(100% - 32px)}.sl:focus{border:1px solid var(--box-border-focus-color);outline:0;box-shadow:0 0 0 3px rgba(135,206,250,.25)}.sls:focus{border:1px solid rgba(128,128,160,.6);outline:0}.sll:focus{border:1px solid rgba(128,128,160,.6);outline:0}.ml:focus{border:1px solid rgba(128,128,160,.6);outline:0;box-shadow:0 0 0 3px rgba(135,206,250,.25)}.mll{border-radius:3px;padding:5px;font-size:14px;border:1px solid #ccc;display:block;width:100%;height:8em;overflow-y:auto;font-family:var(--code-font);resize:vertical;box-sizing:border-box}.mll:focus{border:1px solid rgba(128,128,160,.6);outline:0}.mle:focus{border:1px solid rgba(128,128,160,.6);outline:0;box-shadow:0 0 0 3px rgba(135,206,250,.25)}::-webkit-input-placeholder{color:silver}:-moz-placeholder{color:silver}::-moz-placeholder{color:silver}:-ms-input-placeholder{color:silver}.new-title-input:focus{background-color:var(--box-background-color)}.super.button{background-image:url(assets/bg_9.png);padding:4px 15px 3px 15px;border:1px solid rgba(80,80,90,.2);border-bottom-color:rgba(80,80,90,.35);border-radius:3px;font-size:14px;font-family:Arial,sans-serif;display:inline-block;line-height:1.4;outline:0}.normal.button{background-color:#fff;color:#333;text-shadow:0 1px 0#fff;text-decoration:none;font-weight:700;box-shadow:0 1px 0 rgba(66,66,77,.1)}.normal.button:disabled{background-color:#fff;color:#ccc;text-shadow:0 1px 0#fff;text-decoration:none;font-weight:700;box-shadow:0 1px 0 rgba(66,66,77,.1)}.normal.button:hover:enabled{background-color:#f9f9f9;border:1px solid rgba(60,60,70,.3);color:#333;text-shadow:0 1px 0#fff;text-decoration:none;font-weight:700;cursor:pointer;box-shadow:0 1px 0 rgba(66,66,77,.1)}.normal.button:active:enabled{background-color:#e2e2e2;color:#333;text-shadow:0 1px 0#fff;text-decoration:none;font-weight:700;cursor:pointer;box-shadow:0 1px 0 rgba(66,66,77,.1)}.normal_page_right.button:disabled{background-color:#fff;color:var(--color-fade);text-shadow:0 1px 0#fff;text-decoration:none;font-weight:700;box-shadow:0 1px 0 rgba(66,66,77,.1)}.normal_page_right.button:hover:enabled{background-color:#f9f9f9;border-left:1px solid rgba(80,80,90,.2);border-top:1px solid rgba(60,60,70,.3);border-right:1px solid rgba(60,60,70,.3);border-bottom:1px solid rgba(60,60,70,.3);color:#333;text-shadow:0 1px 0#fff;text-decoration:none;font-weight:700;cursor:pointer;box-shadow:0 1px 0 rgba(66,66,77,.1)}.normal_page_right.button:active:enabled{background-color:#e2e2e2;color:#333;text-shadow:0 1px 0#fff;text-decoration:none;font-weight:700;cursor:pointer;box-shadow:0 1px 0 rgba(66,66,77,.1)}.special.button:hover{background-color:#ffdf00;color:#402112;text-shadow:0 1px 1px rgba(255,255,255,.7);text-decoration:none;cursor:pointer;box-shadow:0 1px 2px rgba(233,175,0,.5);border:1px solid #c89600}.special.button:active{background-color:#fb0;color:#402112;text-shadow:0 1px 1px rgba(255,255,255,.7);text-decoration:none;cursor:pointer;box-shadow:0 1px 2px rgba(233,175,0,.5);border:1px solid #c89600}.inverse.button:hover{background-color:#999;color:#fff;text-shadow:0-1px 1px rgba(0,0,0,.5);text-decoration:none;cursor:pointer;box-shadow:0 1px 2px #c8c8c8;border:1px solid rgba(150,150,150,.6)}.inverse.button:active{background-color:#888;color:#fff;text-shadow:0-1px 1px rgba(0,0,0,.5);text-decoration:none;cursor:pointer;box-shadow:0 1px 2px #c8c8c8;border:1px solid rgba(150,150,150,.6)}.item_node:hover{text-decoration:none;color:#333;border:1px solid #ccc;box-shadow:0 1px 2px rgba(0,0,32,.1)}.item_node:active{text-decoration:none;background-color:var(--box-background-alt-color);color:#333;border:1px solid #ccc;box-shadow:0 1px 2px rgba(0,0,32,.1) inset;outline:0}.tag:link,.tag:visited{padding:5px 10px 5px 10px;line-height:100%;background-color:#f0f0f0;border-radius:10px;margin:0 5px 0 5px;display:inline-block}.tag:hover{background-color:#99a;color:#fff;text-decoration:none}.tag>li{opacity:.15}a.count_orange:active,a.count_orange:link{line-height:12px;font-weight:700;color:#fff;background-color:#f90;display:inline-block;padding:2px 10px 2px 10px;-moz-border-radius:12px;-webkit-border-radius:12px;border-radius:12px;text-decoration:none;margin-right:5px;word-break:break-all}a.count_orange:hover{line-height:12px;font-weight:700;color:#fff;background-color:#ffa722;display:inline-block;padding:2px 10px 2px 10px;-moz-border-radius:12px;-webkit-border-radius:12px;border-radius:12px;text-decoration:none}a.count_livid:active,a.count_livid:link{line-height:12px;font-weight:700;color:#fff;background-color:#aab0c6;display:inline-block;padding:2px 10px 2px 10px;-moz-border-radius:12px;-webkit-border-radius:12px;border-radius:12px;text-decoration:none;margin-right:5px;word-break:break-all}a.count_livid:hover{line-height:12px;font-weight:700;color:#fff;background-color:#969cb1;display:inline-block;padding:2px 10px 2px 10px;-moz-border-radius:12px;-webkit-border-radius:12px;border-radius:12px;text-decoration:none}a.count_blue:visited,a.count_green:visited,a.count_livid:visited,a.count_orange:visited{line-height:12px;font-weight:700;color:#fff;background-color:#e5e5e5;display:inline-block;padding:2px 10px 2px 10px;-moz-border-radius:12px;-webkit-border-radius:12px;border-radius:12px;text-decoration:none;margin-right:5px}.page_current:hover{text-decoration:none}.page_normal:active,.page_normal:link,.page_normal:visited{display:inline-block;font-weight:400;font-size:13px;line-height:13px;padding:2px 5px;background-color:var(--box-background-color);border-radius:var(--box-border-radius);margin:0 1px;text-decoration:none;border:1px solid var(--box-border-color);box-shadow:0 1px 1px rgba(0,0,0,.1)}.page_normal:hover{background-color:#f0f0f0;color:var(--box-foreground-color);text-decoration:none;border:1px solid #ccc}.page_input:focus{color:#666;border:1px solid #ccc}.balance_area img{vertical-align:middle}.balance_area,a.balance_area:link,a.balance_area:visited{font-size:11px;line-height:16px;padding:5px 12px;border-radius:20px;text-decoration:none;color:#666;text-shadow:0 1px 0#fff;display:inline-flex;align-items:center;gap:5px;background:#f5f5f5;background:linear-gradient(#f5f5f5 0,#e2e2e2 100%)}a.balance_area:active{text-decoration:none;color:#000;background:#f0f0f0;background:linear-gradient(#f0f0f0 0,#c9c9c9 100%)}a.balance_area:hover{text-decoration:none;color:#000;background:#f9f9f9;background:linear-gradient(#f9f9f9 0,#f0f0f0 100%)}.invite:hover{background-color:var(--box-background-hover-color);cursor:pointer}img.avatar{-moz-border-radius:4px;border-radius:4px;vertical-align:bottom;filter:contrast(100%) saturate(100%)}a.img_sq:hover{text-decoration:none;background-color:#f0f0f0;border-radius:3px}a.img_view:hover{text-decoration:none;background-color:#f0f0f0}a.img_sqm:hover{text-decoration:none;background-color:#f0f0f0;border-radius:3px}a.btn_hero:hover{color:#fff;background-color:#778087;text-decoration:none}.votes{display:inline-block}.vote,.vote:link,.vote:visited{text-decoration:none;font-size:10px;line-height:1;padding:2px 8px 2px 8px;border:1px solid #e2e2e2;border-radius:3px;color:#778;display:inline-block;vertical-align:baseline;text-align:center}.vote:hover{color:#667;border:1px solid #667;text-decoration:none}.vote:active{background-color:#f0f0f0;border:1px solid #aaa;box-shadow:0 1px 1px rgba(0,0,0,.2) inset}.markdown_body>:first-child{margin-top:0!important}.markdown_body>:last-child{margin-bottom:0!important}ul.nav li a.nav_item:visited{display:block;padding:10px 10px 10px 15px}ul.nav li a.nav_item_current:visited{display:block;padding:10px 10px 10px 15px;background-color:var(--box-background-color);color:var(--box-foreground-color)}ul.nav li a.nav_item:hover{display:block;padding:10px 10px 10px 15px;background-color:#f0f0f0;color:#333;text-decoration:none}ul.nav li a.nav_item_current:hover{display:block;padding:10px 10px 10px 15px;background-color:#fff;color:#333;text-decoration:none}ul.nav li a.nav_item:active,ul.nav li a.nav_item_current:active{display:block;padding:10px 10px 10px 15px;background-color:#e9e9e9;box-shadow:0 2px 3px rgba(0,0,0,.1) inset;color:#333;text-decoration:none}.status:hover{background-color:var(--box-background-hover-color)}.status:hover .status_ops{color:#999}.s_ops:active,.s_ops:link,.s_ops:visited{color:var(--color-fade);text-decoration:none}.status:hover .s_ops:link{color:var(--color-fade)}.s_ops:hover{text-decoration:underline}.signup_method:hover{box-shadow:0 3px 5px rgba(0,0,0,.1);cursor:pointer}.signup_method:active{box-shadow:0 3px 5px rgba(0,0,0,.05);background-color:#333;color:#fff}.signup_method:active>.signup_method_github{filter:invert(100%)}.sign_in_with:hover{box-shadow:0 2px 3px rgba(0,0,0,.075);background-color:var(--box-background-hover-color);color:var(--box-foreground-color);cursor:pointer}.member-activity-bar{width:250px;background-color:#f0f0f0;height:3px}.member-activity-start{height:3px;background-color:#ccc}.light-toggle:link,.light-toggle:visited{text-decoration:none;display:inline-block;margin-right:10px}.lang-selector:link,.lang-selector:visited{display:block;border-bottom:1px solid var(--box-border-color);padding:10px;text-align:left}.lang-selector:hover{background-color:#f9f9f9;text-decoration:none}.row-sortable:hover{background-color:var(--box-background-hover-color);cursor:pointer}#reply-box{transition:box-shadow .25,background-color .25s}#undock-button{display:none}.video-level:hover{background-color:var(--box-background-hover-color);color:var(--box-foreground-color)}.fav-node:hover{background-color:#f0f0f0;box-shadow:0 5px 20px rgba(0,0,0,.08) inset;cursor:pointer;text-decoration:none}.status:hover .status_ops{visibility:visible}.upload-button:hover{color:var(--link-hover-color);stroke:var(--link-hover-color)}.scroll-top{z-index:99;width:60px;height:30px;position:fixed;bottom:20px;right:20px;display:none;border-radius:6px;background-color:var(--box-glass-color);border:2px solid var(--box-border-color);backdrop-filter:blur(var(--backdrop-blur-radius));-webkit-backdrop-filter:blur(var(--backdrop-blur-radius))}@media screen and (max-width:600px){.scroll-top{bottom:120px;right:50px}}.scroll-top:hover{cursor:pointer}.scroll-top span{transform:rotate(-90deg);display:inline-block;color:var(--scroll-indicator-color);font-size:1.5em;margin-top:-2px}/*!
 *  Font Awesome 4.6.1 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */@font-face{font-family:FontAwesome;src:url(fonts/fontawesome.woff2)format("woff2");font-weight:400;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-glass:before{content:""}.fa-music:before{content:""}.fa-search:before{content:""}.fa-envelope-o:before{content:""}.fa-heart:before{content:""}.fa-star:before{content:""}.fa-star-o:before{content:""}.fa-user:before{content:""}.fa-film:before{content:""}.fa-th-large:before{content:""}.fa-th:before{content:""}.fa-th-list:before{content:""}.fa-check:before{content:""}.fa-close:before,.fa-remove:before,.fa-times:before{content:""}.fa-search-plus:before{content:""}.fa-search-minus:before{content:""}.fa-power-off:before{content:""}.fa-signal:before{content:""}.fa-cog:before,.fa-gear:before{content:""}.fa-trash-o:before{content:""}.fa-home:before{content:""}.fa-file-o:before{content:""}.fa-clock-o:before{content:""}.fa-road:before{content:""}.fa-download:before{content:""}.fa-arrow-circle-o-down:before{content:""}.fa-arrow-circle-o-up:before{content:""}.fa-inbox:before{content:""}.fa-play-circle-o:before{content:""}.fa-repeat:before,.fa-rotate-right:before{content:""}.fa-refresh:before{content:""}.fa-list-alt:before{content:""}.fa-lock:before{content:""}.fa-flag:before{content:""}.fa-headphones:before{content:""}.fa-volume-off:before{content:""}.fa-volume-down:before{content:""}.fa-volume-up:before{content:""}.fa-qrcode:before{content:""}.fa-barcode:before{content:""}.fa-tag:before{content:""}.fa-tags:before{content:""}.fa-book:before{content:""}.fa-bookmark:before{content:""}.fa-print:before{content:""}.fa-camera:before{content:""}.fa-font:before{content:""}.fa-bold:before{content:""}.fa-italic:before{content:""}.fa-text-height:before{content:""}.fa-text-width:before{content:""}.fa-align-left:before{content:""}.fa-align-center:before{content:""}.fa-align-right:before{content:""}.fa-align-justify:before{content:""}.fa-list:before{content:""}.fa-dedent:before,.fa-outdent:before{content:""}.fa-indent:before{content:""}.fa-video-camera:before{content:""}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:""}.fa-pencil:before{content:""}.fa-map-marker:before{content:""}.fa-adjust:before{content:""}.fa-tint:before{content:""}.fa-edit:before,.fa-pencil-square-o:before{content:""}.fa-share-square-o:before{content:""}.fa-check-square-o:before{content:""}.fa-arrows:before{content:""}.fa-step-backward:before{content:""}.fa-fast-backward:before{content:""}.fa-backward:before{content:""}.fa-play:before{content:""}.fa-pause:before{content:""}.fa-stop:before{content:""}.fa-forward:before{content:""}.fa-fast-forward:before{content:""}.fa-step-forward:before{content:""}.fa-eject:before{content:""}.fa-chevron-left:before{content:""}.fa-chevron-right:before{content:""}.fa-plus-circle:before{content:""}.fa-minus-circle:before{content:""}.fa-times-circle:before{content:""}.fa-check-circle:before{content:""}.fa-question-circle:before{content:""}.fa-info-circle:before{content:""}.fa-crosshairs:before{content:""}.fa-times-circle-o:before{content:""}.fa-check-circle-o:before{content:""}.fa-ban:before{content:""}.fa-arrow-left:before{content:""}.fa-arrow-right:before{content:""}.fa-arrow-up:before{content:""}.fa-arrow-down:before{content:""}.fa-mail-forward:before,.fa-share:before{content:""}.fa-expand:before{content:""}.fa-compress:before{content:""}.fa-plus:before{content:""}.fa-minus:before{content:""}.fa-asterisk:before{content:""}.fa-exclamation-circle:before{content:""}.fa-gift:before{content:""}.fa-leaf:before{content:""}.fa-fire:before{content:""}.fa-eye:before{content:""}.fa-eye-slash:before{content:""}.fa-exclamation-triangle:before,.fa-warning:before{content:""}.fa-plane:before{content:""}.fa-calendar:before{content:""}.fa-random:before{content:""}.fa-comment:before{content:""}.fa-magnet:before{content:""}.fa-chevron-up:before{content:""}.fa-chevron-down:before{content:""}.fa-retweet:before{content:""}.fa-shopping-cart:before{content:""}.fa-folder:before{content:""}.fa-folder-open:before{content:""}.fa-arrows-v:before{content:""}.fa-arrows-h:before{content:""}.fa-bar-chart-o:before,.fa-bar-chart:before{content:""}.fa-twitter-square:before{content:""}.fa-facebook-square:before{content:""}.fa-camera-retro:before{content:""}.fa-key:before{content:""}.fa-cogs:before,.fa-gears:before{content:""}.fa-comments:before{content:""}.fa-thumbs-o-up:before{content:""}.fa-thumbs-o-down:before{content:""}.fa-star-half:before{content:""}.fa-heart-o:before{content:""}.fa-sign-out:before{content:""}.fa-linkedin-square:before{content:""}.fa-thumb-tack:before{content:""}.fa-external-link:before{content:""}.fa-sign-in:before{content:""}.fa-trophy:before{content:""}.fa-github-square:before{content:""}.fa-upload:before{content:""}.fa-lemon-o:before{content:""}.fa-phone:before{content:""}.fa-square-o:before{content:""}.fa-bookmark-o:before{content:""}.fa-phone-square:before{content:""}.fa-twitter:before{content:""}.fa-facebook-f:before,.fa-facebook:before{content:""}.fa-github:before{content:""}.fa-unlock:before{content:""}.fa-credit-card:before{content:""}.fa-feed:before,.fa-rss:before{content:""}.fa-hdd-o:before{content:""}.fa-bullhorn:before{content:""}.fa-bell:before{content:""}.fa-certificate:before{content:""}.fa-hand-o-right:before{content:""}.fa-hand-o-left:before{content:""}.fa-hand-o-up:before{content:""}.fa-hand-o-down:before{content:""}.fa-arrow-circle-left:before{content:""}.fa-arrow-circle-right:before{content:""}.fa-arrow-circle-up:before{content:""}.fa-arrow-circle-down:before{content:""}.fa-globe:before{content:""}.fa-wrench:before{content:""}.fa-tasks:before{content:""}.fa-filter:before{content:""}.fa-briefcase:before{content:""}.fa-arrows-alt:before{content:""}.fa-group:before,.fa-users:before{content:""}.fa-chain:before,.fa-link:before{content:""}.fa-cloud:before{content:""}.fa-flask:before{content:""}.fa-cut:before,.fa-scissors:before{content:""}.fa-copy:before,.fa-files-o:before{content:""}.fa-paperclip:before{content:""}.fa-floppy-o:before,.fa-save:before{content:""}.fa-square:before{content:""}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:""}.fa-list-ul:before{content:""}.fa-list-ol:before{content:""}.fa-strikethrough:before{content:""}.fa-underline:before{content:""}.fa-table:before{content:""}.fa-magic:before{content:""}.fa-truck:before{content:""}.fa-pinterest:before{content:""}.fa-pinterest-square:before{content:""}.fa-google-plus-square:before{content:""}.fa-google-plus:before{content:""}.fa-money:before{content:""}.fa-caret-down:before{content:""}.fa-caret-up:before{content:""}.fa-caret-left:before{content:""}.fa-caret-right:before{content:""}.fa-columns:before{content:""}.fa-sort:before,.fa-unsorted:before{content:""}.fa-sort-desc:before,.fa-sort-down:before{content:""}.fa-sort-asc:before,.fa-sort-up:before{content:""}.fa-envelope:before{content:""}.fa-linkedin:before{content:""}.fa-rotate-left:before,.fa-undo:before{content:""}.fa-gavel:before,.fa-legal:before{content:""}.fa-dashboard:before,.fa-tachometer:before{content:""}.fa-comment-o:before{content:""}.fa-comments-o:before{content:""}.fa-bolt:before,.fa-flash:before{content:""}.fa-sitemap:before{content:""}.fa-umbrella:before{content:""}.fa-clipboard:before,.fa-paste:before{content:""}.fa-lightbulb-o:before{content:""}.fa-exchange:before{content:""}.fa-cloud-download:before{content:""}.fa-cloud-upload:before{content:""}.fa-user-md:before{content:""}.fa-stethoscope:before{content:""}.fa-suitcase:before{content:""}.fa-bell-o:before{content:""}.fa-coffee:before{content:""}.fa-cutlery:before{content:""}.fa-file-text-o:before{content:""}.fa-building-o:before{content:""}.fa-hospital-o:before{content:""}.fa-ambulance:before{content:""}.fa-medkit:before{content:""}.fa-fighter-jet:before{content:""}.fa-beer:before{content:""}.fa-h-square:before{content:""}.fa-plus-square:before{content:""}.fa-angle-double-left:before{content:""}.fa-angle-double-right:before{content:""}.fa-angle-double-up:before{content:""}.fa-angle-double-down:before{content:""}.fa-angle-left:before{content:""}.fa-angle-right:before{content:""}.fa-angle-up:before{content:""}.fa-angle-down:before{content:""}.fa-desktop:before{content:""}.fa-laptop:before{content:""}.fa-tablet:before{content:""}.fa-mobile-phone:before,.fa-mobile:before{content:""}.fa-circle-o:before{content:""}.fa-quote-left:before{content:""}.fa-quote-right:before{content:""}.fa-spinner:before{content:""}.fa-circle:before{content:""}.fa-mail-reply:before,.fa-reply:before{content:""}.fa-github-alt:before{content:""}.fa-folder-o:before{content:""}.fa-folder-open-o:before{content:""}.fa-smile-o:before{content:""}.fa-frown-o:before{content:""}.fa-meh-o:before{content:""}.fa-gamepad:before{content:""}.fa-keyboard-o:before{content:""}.fa-flag-o:before{content:""}.fa-flag-checkered:before{content:""}.fa-terminal:before{content:""}.fa-code:before{content:""}.fa-mail-reply-all:before,.fa-reply-all:before{content:""}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:""}.fa-location-arrow:before{content:""}.fa-crop:before{content:""}.fa-code-fork:before{content:""}.fa-chain-broken:before,.fa-unlink:before{content:""}.fa-question:before{content:""}.fa-info:before{content:""}.fa-exclamation:before{content:""}.fa-superscript:before{content:""}.fa-subscript:before{content:""}.fa-eraser:before{content:""}.fa-puzzle-piece:before{content:""}.fa-microphone:before{content:""}.fa-microphone-slash:before{content:""}.fa-shield:before{content:""}.fa-calendar-o:before{content:""}.fa-fire-extinguisher:before{content:""}.fa-rocket:before{content:""}.fa-maxcdn:before{content:""}.fa-chevron-circle-left:before{content:""}.fa-chevron-circle-right:before{content:""}.fa-chevron-circle-up:before{content:""}.fa-chevron-circle-down:before{content:""}.fa-html5:before{content:""}.fa-css3:before{content:""}.fa-anchor:before{content:""}.fa-unlock-alt:before{content:""}.fa-bullseye:before{content:""}.fa-ellipsis-h:before{content:""}.fa-ellipsis-v:before{content:""}.fa-rss-square:before{content:""}.fa-play-circle:before{content:""}.fa-ticket:before{content:""}.fa-minus-square:before{content:""}.fa-minus-square-o:before{content:""}.fa-level-up:before{content:""}.fa-level-down:before{content:""}.fa-check-square:before{content:""}.fa-pencil-square:before{content:""}.fa-external-link-square:before{content:""}.fa-share-square:before{content:""}.fa-compass:before{content:""}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:""}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:""}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:""}.fa-eur:before,.fa-euro:before{content:""}.fa-gbp:before{content:""}.fa-dollar:before,.fa-usd:before{content:""}.fa-inr:before,.fa-rupee:before{content:""}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:""}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:""}.fa-krw:before,.fa-won:before{content:""}.fa-bitcoin:before,.fa-btc:before{content:""}.fa-file:before{content:""}.fa-file-text:before{content:""}.fa-sort-alpha-asc:before{content:""}.fa-sort-alpha-desc:before{content:""}.fa-sort-amount-asc:before{content:""}.fa-sort-amount-desc:before{content:""}.fa-sort-numeric-asc:before{content:""}.fa-sort-numeric-desc:before{content:""}.fa-thumbs-up:before{content:""}.fa-thumbs-down:before{content:""}.fa-youtube-square:before{content:""}.fa-youtube:before{content:""}.fa-xing:before{content:""}.fa-xing-square:before{content:""}.fa-youtube-play:before{content:""}.fa-dropbox:before{content:""}.fa-stack-overflow:before{content:""}.fa-instagram:before{content:""}.fa-flickr:before{content:""}.fa-adn:before{content:""}.fa-bitbucket:before{content:""}.fa-bitbucket-square:before{content:""}.fa-tumblr:before{content:""}.fa-tumblr-square:before{content:""}.fa-long-arrow-down:before{content:""}.fa-long-arrow-up:before{content:""}.fa-long-arrow-left:before{content:""}.fa-long-arrow-right:before{content:""}.fa-apple:before{content:""}.fa-windows:before{content:""}.fa-android:before{content:""}.fa-linux:before{content:""}.fa-dribbble:before{content:""}.fa-skype:before{content:""}.fa-foursquare:before{content:""}.fa-trello:before{content:""}.fa-female:before{content:""}.fa-male:before{content:""}.fa-gittip:before,.fa-gratipay:before{content:""}.fa-sun-o:before{content:""}.fa-moon-o:before{content:""}.fa-archive:before{content:""}.fa-bug:before{content:""}.fa-vk:before{content:""}.fa-weibo:before{content:""}.fa-renren:before{content:""}.fa-pagelines:before{content:""}.fa-stack-exchange:before{content:""}.fa-arrow-circle-o-right:before{content:""}.fa-arrow-circle-o-left:before{content:""}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:""}.fa-dot-circle-o:before{content:""}.fa-wheelchair:before{content:""}.fa-vimeo-square:before{content:""}.fa-try:before,.fa-turkish-lira:before{content:""}.fa-plus-square-o:before{content:""}.fa-space-shuttle:before{content:""}.fa-slack:before{content:""}.fa-envelope-square:before{content:""}.fa-wordpress:before{content:""}.fa-openid:before{content:""}.fa-bank:before,.fa-institution:before,.fa-university:before{content:""}.fa-graduation-cap:before,.fa-mortar-board:before{content:""}.fa-yahoo:before{content:""}.fa-google:before{content:""}.fa-reddit:before{content:""}.fa-reddit-square:before{content:""}.fa-stumbleupon-circle:before{content:""}.fa-stumbleupon:before{content:""}.fa-delicious:before{content:""}.fa-digg:before{content:""}.fa-pied-piper:before{content:""}.fa-pied-piper-alt:before{content:""}.fa-drupal:before{content:""}.fa-joomla:before{content:""}.fa-language:before{content:""}.fa-fax:before{content:""}.fa-building:before{content:""}.fa-child:before{content:""}.fa-paw:before{content:""}.fa-spoon:before{content:""}.fa-cube:before{content:""}.fa-cubes:before{content:""}.fa-behance:before{content:""}.fa-behance-square:before{content:""}.fa-steam:before{content:""}.fa-steam-square:before{content:""}.fa-recycle:before{content:""}.fa-automobile:before,.fa-car:before{content:""}.fa-cab:before,.fa-taxi:before{content:""}.fa-tree:before{content:""}.fa-spotify:before{content:""}.fa-deviantart:before{content:""}.fa-soundcloud:before{content:""}.fa-database:before{content:""}.fa-file-pdf-o:before{content:""}.fa-file-word-o:before{content:""}.fa-file-excel-o:before{content:""}.fa-file-powerpoint-o:before{content:""}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:""}.fa-file-archive-o:before,.fa-file-zip-o:before{content:""}.fa-file-audio-o:before,.fa-file-sound-o:before{content:""}.fa-file-movie-o:before,.fa-file-video-o:before{content:""}.fa-file-code-o:before{content:""}.fa-vine:before{content:""}.fa-codepen:before{content:""}.fa-jsfiddle:before{content:""}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:""}.fa-circle-o-notch:before{content:""}.fa-ra:before,.fa-rebel:before{content:""}.fa-empire:before,.fa-ge:before{content:""}.fa-git-square:before{content:""}.fa-git:before{content:""}.fa-hacker-news:before,.fa-y-combinator-square:before,.fa-yc-square:before{content:""}.fa-tencent-weibo:before{content:""}.fa-qq:before{content:""}.fa-wechat:before,.fa-weixin:before{content:""}.fa-paper-plane:before,.fa-send:before{content:""}.fa-paper-plane-o:before,.fa-send-o:before{content:""}.fa-history:before{content:""}.fa-circle-thin:before{content:""}.fa-header:before{content:""}.fa-paragraph:before{content:""}.fa-sliders:before{content:""}.fa-share-alt:before{content:""}.fa-share-alt-square:before{content:""}.fa-bomb:before{content:""}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:""}.fa-tty:before{content:""}.fa-binoculars:before{content:""}.fa-plug:before{content:""}.fa-slideshare:before{content:""}.fa-twitch:before{content:""}.fa-yelp:before{content:""}.fa-newspaper-o:before{content:""}.fa-wifi:before{content:""}.fa-calculator:before{content:""}.fa-paypal:before{content:""}.fa-google-wallet:before{content:""}.fa-cc-visa:before{content:""}.fa-cc-mastercard:before{content:""}.fa-cc-discover:before{content:""}.fa-cc-amex:before{content:""}.fa-cc-paypal:before{content:""}.fa-cc-stripe:before{content:""}.fa-bell-slash:before{content:""}.fa-bell-slash-o:before{content:""}.fa-trash:before{content:""}.fa-copyright:before{content:""}.fa-at:before{content:""}.fa-eyedropper:before{content:""}.fa-paint-brush:before{content:""}.fa-birthday-cake:before{content:""}.fa-area-chart:before{content:""}.fa-pie-chart:before{content:""}.fa-line-chart:before{content:""}.fa-lastfm:before{content:""}.fa-lastfm-square:before{content:""}.fa-toggle-off:before{content:""}.fa-toggle-on:before{content:""}.fa-bicycle:before{content:""}.fa-bus:before{content:""}.fa-ioxhost:before{content:""}.fa-angellist:before{content:""}.fa-cc:before{content:""}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:""}.fa-meanpath:before{content:""}.fa-buysellads:before{content:""}.fa-connectdevelop:before{content:""}.fa-dashcube:before{content:""}.fa-forumbee:before{content:""}.fa-leanpub:before{content:""}.fa-sellsy:before{content:""}.fa-shirtsinbulk:before{content:""}.fa-simplybuilt:before{content:""}.fa-skyatlas:before{content:""}.fa-cart-plus:before{content:""}.fa-cart-arrow-down:before{content:""}.fa-diamond:before{content:""}.fa-ship:before{content:""}.fa-user-secret:before{content:""}.fa-motorcycle:before{content:""}.fa-street-view:before{content:""}.fa-heartbeat:before{content:""}.fa-venus:before{content:""}.fa-mars:before{content:""}.fa-mercury:before{content:""}.fa-intersex:before,.fa-transgender:before{content:""}.fa-transgender-alt:before{content:""}.fa-venus-double:before{content:""}.fa-mars-double:before{content:""}.fa-venus-mars:before{content:""}.fa-mars-stroke:before{content:""}.fa-mars-stroke-v:before{content:""}.fa-mars-stroke-h:before{content:""}.fa-neuter:before{content:""}.fa-genderless:before{content:""}.fa-facebook-official:before{content:""}.fa-pinterest-p:before{content:""}.fa-whatsapp:before{content:""}.fa-server:before{content:""}.fa-user-plus:before{content:""}.fa-user-times:before{content:""}.fa-bed:before,.fa-hotel:before{content:""}.fa-viacoin:before{content:""}.fa-train:before{content:""}.fa-subway:before{content:""}.fa-medium:before{content:""}.fa-y-combinator:before,.fa-yc:before{content:""}.fa-optin-monster:before{content:""}.fa-opencart:before{content:""}.fa-expeditedssl:before{content:""}.fa-battery-4:before,.fa-battery-full:before{content:""}.fa-battery-3:before,.fa-battery-three-quarters:before{content:""}.fa-battery-2:before,.fa-battery-half:before{content:""}.fa-battery-1:before,.fa-battery-quarter:before{content:""}.fa-battery-0:before,.fa-battery-empty:before{content:""}.fa-mouse-pointer:before{content:""}.fa-i-cursor:before{content:""}.fa-object-group:before{content:""}.fa-object-ungroup:before{content:""}.fa-sticky-note:before{content:""}.fa-sticky-note-o:before{content:""}.fa-cc-jcb:before{content:""}.fa-cc-diners-club:before{content:""}.fa-clone:before{content:""}.fa-balance-scale:before{content:""}.fa-hourglass-o:before{content:""}.fa-hourglass-1:before,.fa-hourglass-start:before{content:""}.fa-hourglass-2:before,.fa-hourglass-half:before{content:""}.fa-hourglass-3:before,.fa-hourglass-end:before{content:""}.fa-hourglass:before{content:""}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:""}.fa-hand-paper-o:before,.fa-hand-stop-o:before{content:""}.fa-hand-scissors-o:before{content:""}.fa-hand-lizard-o:before{content:""}.fa-hand-spock-o:before{content:""}.fa-hand-pointer-o:before{content:""}.fa-hand-peace-o:before{content:""}.fa-trademark:before{content:""}.fa-registered:before{content:""}.fa-creative-commons:before{content:""}.fa-gg:before{content:""}.fa-gg-circle:before{content:""}.fa-tripadvisor:before{content:""}.fa-odnoklassniki:before{content:""}.fa-odnoklassniki-square:before{content:""}.fa-get-pocket:before{content:""}.fa-wikipedia-w:before{content:""}.fa-safari:before{content:""}.fa-chrome:before{content:""}.fa-firefox:before{content:""}.fa-opera:before{content:""}.fa-internet-explorer:before{content:""}.fa-television:before,.fa-tv:before{content:""}.fa-contao:before{content:""}.fa-500px:before{content:""}.fa-amazon:before{content:""}.fa-calendar-plus-o:before{content:""}.fa-calendar-minus-o:before{content:""}.fa-calendar-times-o:before{content:""}.fa-calendar-check-o:before{content:""}.fa-industry:before{content:""}.fa-map-pin:before{content:""}.fa-map-signs:before{content:""}.fa-map-o:before{content:""}.fa-map:before{content:""}.fa-commenting:before{content:""}.fa-commenting-o:before{content:""}.fa-houzz:before{content:""}.fa-vimeo:before{content:""}.fa-black-tie:before{content:""}.fa-fonticons:before{content:""}.fa-reddit-alien:before{content:""}.fa-edge:before{content:""}.fa-credit-card-alt:before{content:""}.fa-codiepie:before{content:""}.fa-modx:before{content:""}.fa-fort-awesome:before{content:""}.fa-usb:before{content:""}.fa-product-hunt:before{content:""}.fa-mixcloud:before{content:""}.fa-scribd:before{content:""}.fa-pause-circle:before{content:""}.fa-pause-circle-o:before{content:""}.fa-stop-circle:before{content:""}.fa-stop-circle-o:before{content:""}.fa-shopping-bag:before{content:""}.fa-shopping-basket:before{content:""}.fa-hashtag:before{content:""}.fa-bluetooth:before{content:""}.fa-bluetooth-b:before{content:""}.fa-percent:before{content:""}.fa-gitlab:before{content:""}.fa-wpbeginner:before{content:""}.fa-wpforms:before{content:""}.fa-envira:before{content:""}.fa-universal-access:before{content:""}.fa-wheelchair-alt:before{content:""}.fa-question-circle-o:before{content:""}.fa-blind:before{content:""}.fa-audio-description:before{content:""}.fa-volume-control-phone:before{content:""}.fa-braille:before{content:""}.fa-assistive-listening-systems:before{content:""}.fa-american-sign-language-interpreting:before,.fa-asl-interpreting:before{content:""}.fa-deaf:before,.fa-deafness:before,.fa-hard-of-hearing:before{content:""}.fa-glide:before{content:""}.fa-glide-g:before{content:""}.fa-sign-language:before,.fa-signing:before{content:""}.fa-low-vision:before{content:""}.fa-viadeo:before{content:""}.fa-viadeo-square:before{content:""}.fa-snapchat:before{content:""}.fa-snapchat-ghost:before{content:""}.fa-snapchat-square:before{content:""}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}.dropdown-menu .active:hover,.dropdown-menu li:hover{background-color:#f0f0f0;text-decoration:none}.dropdown-menu a:hover{cursor:pointer}.select2-container .select2-search--inline .select2-search__field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-search--dropdown .select2-search__field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-container--default .select2-selection--multiple .select2-selection__choice__remove:focus,.select2-container--default .select2-selection--multiple .select2-selection__choice__remove:hover{background-color:#f1f1f1;color:#333;outline:0}.select2-container--classic .select2-selection--single:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--multiple:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--multiple .select2-selection__choice__remove:hover{color:#555;outline:0}.selectboxit-container .selectboxit:focus{outline:0}.selectboxit-option .selectboxit-option-anchor:hover{text-decoration:none}.selectboxit-optgroup-header:hover{cursor:default}.ldBar-label:after{content:"%";display:inline}.ldBar.no-percent .ldBar-label:after{content:""}@-webkit-keyframes passing-through{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%,70%{opacity:1;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(-40px);-moz-transform:translateY(-40px);-ms-transform:translateY(-40px);-o-transform:translateY(-40px);transform:translateY(-40px)}}@-moz-keyframes passing-through{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%,70%{opacity:1;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(-40px);-moz-transform:translateY(-40px);-ms-transform:translateY(-40px);-o-transform:translateY(-40px);transform:translateY(-40px)}}@keyframes passing-through{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%,70%{opacity:1;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(-40px);-moz-transform:translateY(-40px);-ms-transform:translateY(-40px);-o-transform:translateY(-40px);transform:translateY(-40px)}}@-webkit-keyframes slide-in{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%{opacity:1;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}}@-moz-keyframes slide-in{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%{opacity:1;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}}@keyframes slide-in{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%{opacity:1;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}10%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}20%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-moz-keyframes pulse{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}10%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}20%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@keyframes pulse{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}10%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}20%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}.dropzone .dz-preview:hover{z-index:1000}.dropzone .dz-preview:hover .dz-details{opacity:1}.dropzone .dz-preview .dz-remove:hover{text-decoration:underline}.dropzone .dz-preview:hover .dz-details{opacity:1}.dropzone .dz-preview .dz-details .dz-filename:hover span{border:1px solid rgba(200,200,200,.8);background-color:rgba(255,255,255,.8)}.dropzone .dz-preview .dz-details .dz-filename:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone .dz-preview .dz-details .dz-filename:not(:hover) span{border:1px solid transparent}.dropzone .dz-preview:hover .dz-image img{-webkit-transform:scale(1.05,1.05);-moz-transform:scale(1.05,1.05);-ms-transform:scale(1.05,1.05);-o-transform:scale(1.05,1.05);transform:scale(1.05,1.05);-webkit-filter:blur(8px);filter:blur(8px)}.dropzone .dz-preview.dz-error:hover .dz-error-message{opacity:1;pointer-events:auto}.dropzone .dz-preview .dz-error-message:after{content:"";position:absolute;top:-6px;left:64px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #be2626}</style>
<link rel=top title=回到顶部 href=https://v2ex.com/t/1190403#>
<meta name=referrer content=no-referrer><link rel="shortcut icon" href="assets/favicon.ico" type=image/png><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'self' 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"></head>
<body><div id=color-hint style="position:fixed;bottom:10px;left:10px;background:rgba(0,0,0,.7);color:#fff;padding:8px 12px;border-radius:4px;font-size:12px;z-index:9999">Ctrl+1 红色 | Ctrl+2 绿色 | Ctrl+3 分割线</div>
 
 
 <div id=Top>
 <div class=content>
 <div class=site-nav>
 <a href=https://wodewoshiwo.github.io/blog.sina.com.cn/chzhshch/ name=top title="way to explore"><div id=Logo></div></a>
 <div id=search-container>
 <input id=search type=text maxlength=128 autocomplete=off tabindex=1>
 <div id=search-result class=box></div>
 </div>
 <div class=tools>

<a href=https://v2ex.com/ class=top>首页</a>
<a href=https://v2ex.com/member/chzh1019 class=top>chzh1019</a>

<a href=https://v2ex.com/notes class=top>记事本</a>

<a href=https://v2ex.com/planet class=top>Planet</a>

<a href=https://v2ex.com/settings class=top>设置</a>
<a href="javascript:void(0)" class="top" onclick="exportToSingleHTML(this)">导出</a>
 
</div>
 </div>
 </div>
 </div>
 
 <div id=Wrapper>
 <div class=content>
 
 <div id=Leftbar></div>
 <div id=Rightbar>
 <div class=sep20></div>
 
 

 
 
 
 
 <div class=sep></div>
 <div class=box>
 <style>#Wrapper{background-color:#e2e2e2;background-image:var(--sf-img-9),url(assets/bg_10.png);background-repeat:repeat-x,repeat-x}</style>
<div class=inner id=node_sidebar contenteditable="true">
 • 请不要在回答技术问题时复制粘贴 AI 生成的内容
 
 </div>
 
 </div>
 
 
 
 <div class=sep20></div>
 <div class=box id=pro-campaign-container>
 
</div>
 <div class=sep20></div>
 
 
 
 
 </div>
 <div id=Main>
 <div class=sep20></div>
 
<div class=box style=border-bottom:0px>
 
 <div class=header><div class=fr><img src="assets/avatar_4.png" class=avatar border=0 align=default alt=pnczk2019 data-uid=684546 style="cursor:pointer;width:73px;height:73px;object-fit:cover" onclick="uploadAvatar(this)" title="点击上传头像" width=73 height=73><input type=file accept=image/* style="display:none" onchange="handleAvatarUpload(this)"></div>
 <a href=https://v2ex.com/>V2EX</a> <span class=chevron>&nbsp;›&nbsp;</span> <a href=https://v2ex.com/go/programmer>程序员</a>
 <div class=sep10></div>
 <h1 contenteditable="true" onkeydown="handleTitleKeydown(event)">今天 GEMINI 网页版本长度 6 万左右就报限制.有没同款的?</h1>
 <div id=topic_1190403_votes class=votes>
<a href=javascript:void(0) class=vote><li class="fa fa-chevron-up"></li></a> &nbsp;<a href=javascript:void(0) class=vote><li class="fa fa-chevron-down"></li></a></div> &nbsp; <small class=gray><a href=https://v2ex.com/member/pnczk2019>缠中说禅</a> · <span title="2026-02-03 14:29:18 +08:00">20 小时 56 分钟前</span> · 1019 次点击 &nbsp; </small>
 </div>
 
 
 
 <div class=cell>
 
 <div class=topic_content contenteditable="true"><div class=markdown_body><p>之前可以搞几十万的..官方的网页版本来的.</p>
<p><a href=https://aistudio.google.com/ rel=nofollow>https://aistudio.google.com/</a></p>
</div></div>
 
 </div>
 
<div id=postscript-container></div>

<div class=cell style="border-top:1px solid #e2e2e2;background-color:#f9f9f9">
<div class=flex-one-row>
<div><a href=javascript:void(0) class="super normal button" onclick="showPostscriptInput()">添加附言</a></div>
</div>
<div id=postscript-input-area style="display:none;margin-top:10px">
<textarea id=postscript_content maxlength=1000 class=mll style="width:100%;height:60px;font-size:14px"></textarea>
<div style="margin-top:8px">
<input type=button value="添加附言" class="super normal button" onclick="addPostscript()">
<input type=button value="取消" class="super normal button" onclick="hidePostscriptInput()">
</div>
</div>
</div>
 
 
 
 <div class=topic_buttons><div class="fr topic_stats" style=padding-top:4px>1019 次点击 &nbsp;</div><a href="https://v2ex.com/favorite/topic/1190403?once=27587" class=tb>加入收藏</a> &nbsp;<a href=#; class=tb>Tweet</a> &nbsp;<a href=#; class=tb>忽略主题</a> &nbsp;<div id=topic_thank><a href=#; class=tb>感谢</a></div></div>
</div>
<div class=sep20></div>
<div class=box>
 <div class=cell><div class=fr style="margin:-3px -5px 0px 0px"><a href=https://v2ex.com/tag/Gemini class=tag><li class="fa fa-tag"></li> Gemini</a><a href=https://v2ex.com/tag/%E9%99%90%E5%88%B6 class=tag><li class="fa fa-tag"></li> 限制</a><a href=https://v2ex.com/tag/%E7%BD%91%E9%A1%B5 class=tag><li class="fa fa-tag"></li> 网页</a></div><span class=gray id=reply_count_text>3 条回复 &nbsp;<strong class=snow>•</strong> &nbsp;2026-02-03 22:43:10 +08:00</span>
 </div>
 
 
 
 <div id=r_17286742 class=cell>
 
 <table cellpadding=0 cellspacing=0 border=0 width=100%>
 <tbody><tr>
 <td width=48 valign=top align=center><img src="assets/avatar_5.png" class=avatar border=0 align=default alt=wyntalgeer data-uid=270769></td>
 <td width=10 valign=top></td>
 <td width=auto valign=top align=left><div class=fr><div id=thank_area_17286742 class=thank_area><a href=#; class=thank onclick="deleteReply(this);return false;">删除</a></div> &nbsp; <a href=#;><img src="assets/icon_6.png" align=absmiddle border=0 alt=Reply width=20></a> &nbsp;&nbsp; <span class=no>1</span></div>
 <div class=sep3></div>
 <strong><a href=https://v2ex.com/member/wyntalgeer class=dark>wyntalgeer</a></strong> &nbsp; <div class=badges></div>&nbsp; &nbsp;<span class=ago title="2026-02-03 15:03:35 +08:00">20 小时 22 分钟前</span> 
 <div class=sep5></div>
 <div class=reply_content contenteditable="true">收缩算力了，牢干在全力准备新模型</div>
 </td>
 </tr>
 </table>
 </div>
 
 
 
 
 <div id=r_17286748 class=cell>
 
 <table cellpadding=0 cellspacing=0 border=0 width=100%>
 <tbody><tr>
 <td width=48 valign=top align=center><img src="assets/avatar_7.png" class=avatar border=0 align=default alt=spikeLee data-uid=467300></td>
 <td width=10 valign=top></td>
 <td width=auto valign=top align=left><div class=fr><div id=thank_area_17286748 class=thank_area><a href=#; class=thank onclick="deleteReply(this);return false;">删除</a></div> &nbsp; <a href=#;><img src="assets/icon_6.png" align=absmiddle border=0 alt=Reply width=20></a> &nbsp;&nbsp; <span class=no>2</span></div>
 <div class=sep3></div>
 <strong><a href=https://v2ex.com/member/spikeLee class=dark>spikeLee</a></strong> &nbsp; <div class=badges></div>&nbsp; &nbsp;<span class=ago title="2026-02-03 15:04:08 +08:00">20 小时 22 分钟前</span> 
 <div class=sep5></div>
 <div class=reply_content contenteditable="true">最近免费的 token 是越来越少了</div>
 </td>
 </tr>
 </table>
 </div>
 
 
 
 
 <div id=r_17288616 class=cell>
 
 <table cellpadding=0 cellspacing=0 border=0 width=100%>
 <tbody><tr>
 <td width=48 valign=top align=center><img src="assets/avatar_9.png" class=avatar border=0 align=default alt=olive1223 data-uid=475001></td>
 <td width=10 valign=top></td>
 <td width=auto valign=top align=left><div class=fr><div id=thank_area_17288616 class=thank_area><a href=#; class=thank onclick="deleteReply(this);return false;">删除</a></div> &nbsp; <a href=#;><img src="assets/icon_6.png" align=absmiddle border=0 alt=Reply width=20></a> &nbsp;&nbsp; <span class=no>3</span></div>
 <div class=sep3></div>
 <strong><a href=https://v2ex.com/member/olive1223 class=dark>olive1223</a></strong> &nbsp; <div class=badges></div>&nbsp; &nbsp;<span class=ago title="2026-02-03 22:43:10 +08:00">12 小时 43 分钟前</span> 
 <div class=sep5></div>
 <div class=reply_content contenteditable="true">还以为是新搞的小鸡 ip 不干净，原来大家都这样😄</div>
 </td>
 </tr>
 </table>
 </div>
 
 
</div>
<div class=sep20></div>
 
 
 
 <div class=box id=reply-box>
 <div class="cell flex-one-row">
 <div>添加新回复</div>
 <div><a href=javascript:void(0) id=undock-button>取消回复框停靠</a> &nbsp; &nbsp; <a href=#>回到顶部</a></div>
 </div>
 <div class=cell><form method=post action=/t/1190403 id=reply_form>
 <textarea name=content maxlength=10000 class=mll id=reply_content></textarea>
 <div class=flex-one-row style=margin-top:10px>
 <input type=button value=回复 class="super normal button" id=reply_submit onclick="addReply()">
 


 


&nbsp;
</div></div>
 </div>
 
 
 </div>
 <div class=c></div>
 <div class=sep20></div>
 </div>


<script>
function addReply() {
    var fullContent = document.getElementById('reply_content').value.trim();
    if (!fullContent) {
        alert('请输入回复内容');
        return;
    }
    
    // 解析内容和时间（支持在最后一行输入时间，如 "2006-08-08  14:31"）
    var lines = fullContent.split('\n');
    var timeStr = '';
    var displayTime = '刚刚';
    var content = fullContent;
    
    // 检查最后一行是否是时间格式（YYYY-MM-DD HH:MM 或 YYYY-MM-DD  HH:MM）
    var lastLine = lines[lines.length - 1].trim();
    var timeMatch = lastLine.match(/^(\d{4}-\d{2}-\d{2})\s+(\d{2}:\d{2})$/);
    
    if (timeMatch) {
        // 提取时间
        var datePart = timeMatch[1];
        var timePart = timeMatch[2];
        timeStr = datePart + ' ' + timePart + ' +08:00';
        displayTime = datePart + ' ' + timePart;
        // 去掉最后一行时间，得到真正的内容
        content = lines.slice(0, -1).join('\n').trim();
        if (!content) {
            alert('请输入回复内容');
            return;
        }
    } else {
        // 没有输入时间，使用当前时间
        var now = new Date();
        timeStr = now.toISOString().slice(0, 19).replace('T', ' ') + ' +08:00';
        displayTime = timeStr.slice(0, 16);
    }
    
    // 根据当前实际回复数量计算新的楼层号
    var currentReplies = document.querySelectorAll('.box .cell[id^="r_"]');
    var replyNum = currentReplies.length + 1;
    var id = 'r_local_' + Date.now();
    var replyBox = document.getElementById('reply-box');
    // 找到包含所有回复的白色 box（它是 reply-box 前面的那个 box）
    var repliesBox = replyBox.previousElementSibling;
    while (repliesBox && !repliesBox.classList.contains('box')) {
        repliesBox = repliesBox.previousElementSibling;
    }
    if (!repliesBox) {
        repliesBox = replyBox.parentElement;
    }
    
    // 生成回复HTML - 完全匹配现有回复结构
    var replyHtml = '<div id=' + id + ' class=cell>\n\n' +
        '<table cellpadding=0 cellspacing=0 border=0 width=100%>\n' +
        '<tbody><tr>\n' +
        '<td width=48 valign=top align=center><img src="assets/touxiang.jpg" class=avatar border=0 align=default alt=缠中说禅 style="cursor:pointer;width:48px;height:48px;object-fit:cover" onclick="uploadAvatar(this)" title="点击上传头像" width=48 height=48><input type=file accept=image/* style="display:none" onchange="handleAvatarUpload(this)"></td>\n' +
        '<td width=10 valign=top></td>\n' +
        '<td width=auto valign=top align=left><div class=fr><div id=thank_area_' + id + ' class=thank_area><a href=#; class=thank onclick="deleteReply(this);return false;">删除</a></div> &nbsp; <a href=#;><img src="assets/icon_6.png" align=absmiddle border=0 alt=Reply width=20></a> &nbsp;&nbsp; <span class=no>' + replyNum + '</span></div>\n' +
        '<div class=sep3></div>\n' +
        '<strong><a href=javascript:void(0) class="dark cn-username" onclick="editUsername(this)" style="cursor:text">缠中说禅</a></strong> &nbsp; <div class=badges></div>&nbsp; &nbsp;<span class=ago title="' + timeStr + '">' + displayTime + '</span>\n' +
        '<div class=sep5></div>\n' +
        '<div class=reply_content contenteditable="true">' + escapeHtml(content).replace(/\n/g, '<br>') + '</div>\n' +
        '</td>\n' +
        '</tr>\n' +
        '</table>\n' +
        '</div>';
    
    // 创建临时容器
    var tempDiv = document.createElement('div');
    tempDiv.innerHTML = replyHtml;
    var newReply = tempDiv.firstChild;
    
    // 插入到回复列表 box 的末尾（在 </div> 之前）
    repliesBox.appendChild(newReply);
    
    // 清空输入框
    document.getElementById('reply_content').value = '';
    
    // 更新回复总数
    updateReplyCount();
}

function escapeHtml(text) {
    var div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
}

function uploadAvatar(img) {
    var input = img.nextElementSibling;
    if (input) {
        input.click();
    }
}

function handleAvatarUpload(input) {
    var file = input.files[0];
    if (!file) return;
    
    if (!file.type.startsWith('image/')) {
        alert('请选择图片文件');
        return;
    }
    
    var reader = new FileReader();
    reader.onload = function(e) {
        var img = input.previousElementSibling;
        if (img) {
            img.src = e.target.result;
        }
    };
    reader.readAsDataURL(file);
}

function deleteReply(link) {
    if (!confirm('确定要删除这条回复吗？')) return;
    
    // 找到该回复的 div.cell 元素
    var cell = link.closest('.cell');
    if (cell) {
        cell.remove();
        // 重新计算楼层号
        updateReplyNumbers();
    }
}

function updateReplyNumbers() {
    // 获取所有回复（包括原有3条和新添加的），排除标题cell
    var allReplies = document.querySelectorAll('.box .cell[id^="r_"]');
    allReplies.forEach(function(reply, index) {
        // 楼层号从1开始
        var newNum = index + 1;
        // 找到该回复的楼层号元素（.no类）
        var noElement = reply.querySelector('.no');
        if (noElement) {
            noElement.textContent = newNum;
        }
    });
    
    // 更新回复总数
    updateReplyCount();
}

function updateReplyCount() {
    var allReplies = document.querySelectorAll('.box .cell[id^="r_"]');
    var count = allReplies.length;
    var countText = document.getElementById('reply_count_text');
    if (countText) {
        var timeMatch = countText.innerHTML.match(/&nbsp;<strong class=snow>•<\/strong>&nbsp;(.+)/);
        var timePart = timeMatch ? timeMatch[1] : '2026-02-03 22:43:10 +08:00';
        countText.innerHTML = count + ' 条回复 &nbsp;<strong class=snow>•</strong>&nbsp;' + timePart;
    }
}

function showPostscriptInput() {
    document.getElementById('postscript-input-area').style.display = 'block';
    document.getElementById('postscript_content').focus();
}

function hidePostscriptInput() {
    document.getElementById('postscript-input-area').style.display = 'none';
    document.getElementById('postscript_content').value = '';
}

function addPostscript() {
    var fullContent = document.getElementById('postscript_content').value.trim();
    if (!fullContent) {
        alert('请输入附言内容');
        return;
    }
    
    var lines = fullContent.split('\n');
    var timeStr = '';
    var displayTime = '';
    var content = fullContent;
    
    var lastLine = lines[lines.length - 1].trim();
    var timeMatch = lastLine.match(/^(\d{4})-(\d{2})-(\d{2})\s+(\d{2}):(\d{2})$/);
    
    if (timeMatch) {
        var year = parseInt(timeMatch[1]);
        var month = parseInt(timeMatch[2]);
        var day = parseInt(timeMatch[3]);
        var hour = timeMatch[4];
        var minute = timeMatch[5];
        timeStr = year + '-' + timeMatch[2] + '-' + timeMatch[3] + ' ' + hour + ':' + minute + ' +08:00';
        displayTime = year + ' 年 ' + month + ' 月 ' + day + ' 日';
        content = lines.slice(0, -1).join('\n').trim();
        if (!content) {
            alert('请输入附言内容');
            return;
        }
    } else {
        var now = new Date();
        timeStr = now.toISOString().slice(0, 16).replace('T', ' ') + ' +08:00';
        displayTime = now.getFullYear() + ' 年 ' + (now.getMonth() + 1) + ' 月 ' + now.getDate() + ' 日';
    }
    
    var container = document.getElementById('postscript-container');
    var postscriptNum = container.querySelectorAll('.subtle').length + 1;
    var id = 'ps_local_' + Date.now();
    
    var psHtml = '<div id="' + id + '" class="subtle">' +
        '<div class="postscript-actions"><a href="#" onclick="deletePostscript(this);return false;">删除</a></div>' +
        '<span class="fade">第 ' + postscriptNum + ' 条附言  ·  <span title="' + timeStr + '">' + displayTime + '</span></span>' +
        '<div class="sep5"></div>' +
        '<div class="topic_content" contenteditable="true">' + escapeHtml(content).replace(/\n/g, '<br>') + '</div>' +
        '</div>';
    
    var tempDiv = document.createElement('div');
    tempDiv.innerHTML = psHtml;
    container.appendChild(tempDiv.firstChild);
    
    hidePostscriptInput();
}

function deletePostscript(link) {
    if (!confirm('确定要删除这条附言吗？')) return;
    var subtle = link.closest('.subtle');
    if (subtle) {
        subtle.remove();
        updatePostscriptNumbers();
    }
}

function editUsername(link) {
    var current = link.textContent;
    var newName = prompt('修改用户名:', current);
    if (newName && newName.trim()) {
        link.textContent = newName.trim();
        // 如果是中文，保持cn-username类，否则移除
        if (/[\u4e00-\u9fa5]/.test(newName)) {
            link.classList.add('cn-username');
        } else {
            link.classList.remove('cn-username');
        }
    }
}

function updatePostscriptNumbers() {
    var postscripts = document.querySelectorAll('#postscript-container .subtle');
    postscripts.forEach(function(ps, index) {
        var fadeSpan = ps.querySelector('.fade');
        if (fadeSpan) {
            var newNum = index + 1;
            var dateSpan = fadeSpan.querySelector('span[title]');
            var dateHtml = dateSpan ? dateSpan.outerHTML : '';
            fadeSpan.innerHTML = '第 ' + newNum + ' 条附言  ·  ' + dateHtml;
        }
    });
}

function handleTitleKeydown(e) {
    if (e.key !== 'Enter') return;
    e.preventDefault();
    
    var h1 = e.target;
    var titleText = h1.textContent;
    
    var timeRegex = /\s*\(\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}(?::\d{2})?\)\s*$/;
    var match = titleText.match(timeRegex);
    
    if (match) {
        var timeStr = match[0].trim();
        var cleanTime = timeStr.replace(/[()]/g, '').trim();
        
        var parts = cleanTime.match(/^(\d{4})-(\d{2})-(\d{2})\s+(\d{2}):(\d{2})(?::(\d{2}))?$/);
        if (parts) {
            var year = parts[1], month = parts[2], day = parts[3];
            var hour = parts[4], minute = parts[5];
            var second = parts[6] || '00';
            var fullTime = year + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second + ' +08:00';
            var displayTime = year + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second;
            
            var smallGray = document.querySelector('#topic_1190403_votes').nextElementSibling;
            if (smallGray && smallGray.classList.contains('gray')) {
                var topicTimeSpan = smallGray.querySelector('span[title]');
                if (topicTimeSpan) {
                    topicTimeSpan.setAttribute('title', fullTime);
                    topicTimeSpan.textContent = displayTime;
                }
            }
            
            var replyCountText = document.getElementById('reply_count_text');
            if (replyCountText) {
                var countMatch = replyCountText.innerHTML.match(/^(\d+ 条回复\s*&nbsp;)/);
                if (countMatch) {
                    replyCountText.innerHTML = countMatch[1] + '<strong class=snow>•</strong>&nbsp;' + displayTime;
                }
            }
            
            var newTitle = titleText.replace(timeRegex, '').trim();
            h1.textContent = newTitle;
        }
    }
    
    // 同步更新 <title> 标签
    document.title = h1.textContent;
    
    h1.blur();
}

// 快捷键改色：Ctrl+1=红色，Ctrl+2=绿色，Ctrl+3=分割线
document.addEventListener('keydown', function(e) {
    if (!e.ctrlKey) return;
    
    // Ctrl+3 添加分割线
    if (e.key === '3') {
        e.preventDefault();
        
        var sel = window.getSelection();
        if (!sel.rangeCount) return;
        
        var range = sel.getRangeAt(0);
        
        // 创建分割线
        var hr = document.createElement('hr');
        hr.style.border = 'none';
        hr.style.borderTop = '1px solid #e2e2e2';
        hr.style.margin = '10px 0';
        
        // 在当前位置插入分割线
        range.deleteContents();
        range.insertNode(hr);
        
        // 创建新的段落供后续输入
        var p = document.createElement('p');
        p.appendChild(document.createTextNode('\u200B')); // 零宽空格
        range.setStartAfter(hr);
        range.setEndAfter(hr);
        range.insertNode(p);
        
        // 移动光标到新段落
        range.setStart(p, 0);
        range.setEnd(p, 0);
        sel.removeAllRanges();
        sel.addRange(range);
        return;
    }
    
    var color = null;
    if (e.key === '1') color = '#FF0000';
    if (e.key === '2') color = '#009900';
    if (!color) return;
    
    e.preventDefault();
    var sel = window.getSelection();
    if (sel.toString().length === 0) return;
    
    var range = sel.getRangeAt(0);
    var span = document.createElement('span');
    span.style.color = color;
    try {
        range.surroundContents(span);
    } catch (err) {
        var content = range.extractContents();
        span.appendChild(content);
        range.insertNode(span);
    }
    sel.removeAllRanges();
});

// 处理粘贴图片功能
document.addEventListener('paste', function(e) {
    var target = e.target;
    // 检查目标元素或其父元素是否是需要支持粘贴图片的区域
    var editableContainer = target.closest('.topic_content, .reply_content, #node_sidebar');
    if (!editableContainer) return;
    
    var items = e.clipboardData && e.clipboardData.items;
    if (!items) return;
    
    for (var i = 0; i < items.length; i++) {
        var item = items[i];
        if (item.type.indexOf('image') !== -1) {
            e.preventDefault();
            var blob = item.getAsFile();
            var reader = new FileReader();
            reader.onload = function(event) {
                var img = document.createElement('img');
                img.src = event.target.result;
                img.style.maxWidth = '100%';
                img.style.height = 'auto';
                img.style.margin = '10px 0';
                img.style.cursor = 'zoom-in';
                img.setAttribute('data-zoomable', '');
                
                // 在光标位置插入图片
                insertNodeAtCursor(img);
                
                // 为新添加的图片附加点击放大功能
                if (window.zoomInstance) {
                    window.zoomInstance.attach(img);
                }
            };
            reader.readAsDataURL(blob);
            break;
        }
    }
});

// 在当前光标位置插入节点
function insertNodeAtCursor(node) {
    var selection = window.getSelection();
    var range = selection.getRangeAt(0);
    range.deleteContents();
    range.insertNode(node);
    
    // 移动光标到图片后面
    range.setStartAfter(node);
    range.setEndAfter(node);
    selection.removeAllRanges();
    selection.addRange(range);
}

async function exportToSingleHTML(btn) {
    // 1. 在改变状态前克隆，确保克隆到的是干净的初始状态
    const docClone = document.documentElement.cloneNode(true);
    
    const originalText = btn.textContent;
    btn.textContent = '导出中...';
    btn.style.pointerEvents = 'none';

    try {
        // 2. 移除导出相关元素和不需要的 UI
        docClone.querySelectorAll('[onclick*="exportToSingleHTML"]').forEach(el => el.remove());
        docClone.querySelectorAll('meta').forEach(meta => {
            if (meta.getAttribute('http-equiv')?.toLowerCase() === 'content-security-policy') {
                meta.remove();
            }
        });
        const colorHint = docClone.querySelector('#color-hint');
        if (colorHint) colorHint.remove();

        // --- 深度清理编辑器 UI ---
        // 1. 禁用所有可编辑状态
        docClone.querySelectorAll('[contenteditable]').forEach(el => {
            el.setAttribute('contenteditable', 'false');
        });

        // 2. 移除回复框区域
        const replyBox = docClone.querySelector('#reply-box');
        if (replyBox) replyBox.remove();

        // 3. 移除“添加附言”按钮和输入区
        const postscriptInput = docClone.querySelector('#postscript-input-area');
        if (postscriptInput) postscriptInput.remove();
        docClone.querySelectorAll('[onclick*="showPostscriptInput"]').forEach(el => {
            // 如果是在 div.cell 里的按钮，直接移除整个 cell 底部区域
            const parent = el.closest('.cell');
            if (parent && parent.querySelector('.button')) {
                parent.remove();
            } else {
                el.remove();
            }
        });

        // 4. 移除“删除”链接
        docClone.querySelectorAll('[onclick*="deleteReply"]').forEach(el => el.remove());

        // 5. 移除头像上传相关的 input 和点击提示
        docClone.querySelectorAll('input[type="file"]').forEach(el => el.remove());
        docClone.querySelectorAll('[onclick*="uploadAvatar"]').forEach(el => {
            el.removeAttribute('onclick');
            el.removeAttribute('title');
            el.style.cursor = 'default';
        });

        // 6. 移除用户名编辑功能
        docClone.querySelectorAll('[onclick*="editUsername"]').forEach(el => {
            el.removeAttribute('onclick');
            el.style.cursor = 'default';
        });

        // 7. 移除主题按钮区 (加入收藏、Tweet、忽略、感谢等编辑功能按钮)
        const topicButtons = docClone.querySelector('.topic_buttons');
        if (topicButtons) topicButtons.remove();

        // 8. 修复图片放大功能：移除 medium-zoom 运行时的干扰类和容器
        docClone.querySelectorAll('.medium-zoom-overlay, .medium-zoom-image--opened').forEach(el => el.remove());
        docClone.querySelectorAll('.medium-zoom-image').forEach(el => {
            el.classList.remove('medium-zoom-image');
        });

        // 3. 处理所有资源转换任务 (并行执行)
        const tasks = [];

        // --- 处理 <img> 标签 ---
        const images = docClone.querySelectorAll('img');
        const originalImages = document.querySelectorAll('img');
        images.forEach((img, i) => {
            const originalImg = originalImages[i];
            const src = img.getAttribute('src');
            if (src && !src.startsWith('data:')) {
                tasks.push((async () => {
                    try {
                        if (originalImg && originalImg.complete && originalImg.naturalWidth > 0) {
                            img.setAttribute('src', getCanvasBase64(originalImg));
                        } else {
                            img.setAttribute('src', await toBase64(src));
                        }
                    } catch (e) { console.warn('图片转换失败:', src); }
                })());
            }
        });

        // --- 处理内联 style 中的 url() ---
        docClone.querySelectorAll('[style]').forEach(el => {
            const style = el.getAttribute('style');
            if (style.includes('url(')) {
                tasks.push((async () => {
                    const newStyle = await processCSSText(style);
                    el.setAttribute('style', newStyle);
                })());
            }
        });

        // --- 处理 <style> 标签 ---
        docClone.querySelectorAll('style').forEach(styleTag => {
            tasks.push((async () => {
                styleTag.textContent = await processCSSText(styleTag.textContent);
            })());
        });

        // --- 处理外部 <link rel="stylesheet"> ---
        const links = docClone.querySelectorAll('link[rel="stylesheet"]');
        links.forEach(link => {
            const href = link.getAttribute('href');
            if (href && !href.startsWith('data:')) {
                tasks.push((async () => {
                    try {
                        const cssText = await (await fetch(href)).text();
                        const processedCSS = await processCSSText(cssText, href);
                        const styleTag = document.createElement('style');
                        styleTag.textContent = processedCSS;
                        link.parentNode.replaceChild(styleTag, link);
                    } catch (e) { console.warn('CSS 内联失败:', href); }
                })());
            }
        });

        // --- 处理外部脚本 <script src> ---
        docClone.querySelectorAll('script[src]').forEach(script => {
            const src = script.getAttribute('src');
            if (src && !src.startsWith('data:')) {
                tasks.push((async () => {
                    try {
                        const jsText = await (await fetch(src)).text();
                        const newScript = document.createElement('script');
                        newScript.textContent = jsText;
                        script.parentNode.replaceChild(newScript, script);
                    } catch (e) { console.warn('脚本内联失败:', src); }
                })());
            }
        });

        // --- 处理 Favicon ---
        const favicons = docClone.querySelectorAll('link[rel*="icon"]');
        favicons.forEach(link => {
            const href = link.getAttribute('href');
            if (href && !href.startsWith('data:')) {
                tasks.push((async () => {
                    try {
                        const base64 = await toBase64(href);
                        link.setAttribute('href', base64);
                    } catch (e) { console.warn('Favicon 转换失败:', href); }
                })());
            }
        });

        // 等待所有资源处理完成
        await Promise.all(tasks);

        // 4. 生成并下载文件
        const htmlContent = '<!DOCTYPE html>\n' + docClone.outerHTML;
        const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = document.title.replace(/[\\/:*?"<>|]/g, '_') + '_完整版.html';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        setTimeout(() => URL.revokeObjectURL(url), 100);

    } catch (e) {
        console.error('导出失败:', e);
        alert('导出失败: ' + e.message);
    } finally {
        btn.textContent = originalText;
        btn.style.pointerEvents = 'auto';
    }

    // 内部辅助函数：处理 CSS 文本中的 url()
    async function processCSSText(cssText, baseUrl = window.location.href) {
        const urlRegex = /url\(['"]?([^'")]+)['"]?\)/g;
        const matches = Array.from(cssText.matchAll(urlRegex));
        let result = cssText;

        for (const match of matches) {
            const fullMatch = match[0];
            const originalUrl = match[1];
            
            if (originalUrl.startsWith('data:') || originalUrl.startsWith('blob:')) continue;

            try {
                // 处理相对路径
                const absoluteUrl = new URL(originalUrl, baseUrl).href;
                const base64 = await toBase64(absoluteUrl);
                result = result.split(fullMatch).join(`url("${base64}")`);
            } catch (e) {
                console.warn('CSS 资源转换失败:', originalUrl);
            }
        }
        return result;
    }
}

function getCanvasBase64(img) {
    try {
        const canvas = document.createElement('canvas');
        canvas.width = img.naturalWidth;
        canvas.height = img.naturalHeight;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(img, 0, 0);
        return canvas.toDataURL('image/png');
    } catch (e) {
        return img.src;
    }
}

async function toBase64(url) {
    try {
        const response = await fetch(url);
        const blob = await response.blob();
        return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onloadend = () => resolve(reader.result);
            reader.onerror = reject;
            reader.readAsDataURL(blob);
        });
    } catch (e) {
        console.warn('Base64 转换失败:', url);
        return url;
    }
}

</script>
<style>
/* medium-zoom 光标样式修复 - 使用 !important 确保覆盖默认样式 */
.medium-zoom-image {
    cursor: zoom-in !important;
}
.medium-zoom-image--opened {
    cursor: zoom-out !important;
}
</style>
<script src="assets/medium-zoom.min.js"></script>
<script>
// 初始化 medium-zoom
document.addEventListener('DOMContentLoaded', function() {
    window.zoomInstance = mediumZoom('[data-zoomable]', {
        margin: 24,
        background: 'rgba(0, 0, 0, 0.9)',
        scrollOffset: 40
    });
});
</script>